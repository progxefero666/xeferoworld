generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model generic {
  id              String       @id @db.Char(16)
  name            String       @db.VarChar(16)
  foreign_id      String       @db.Char(16)
  description     String?      @db.VarChar(100)
  proglanguage    proglanguage @relation(fields: [foreign_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model proglanguage {
  id       String     @id @db.Char(16)
  name     String     @db.VarChar(16)
  generic  generic[]
  task     task[]
  template template[]
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model task {
  id              String       @id @db.Char(16)
  proglanguage_id String       @db.Char(16)
  tasktype_id     String       @db.Char(16)
  workflow_id     String       @db.Char(16)
  taskcategory_id String       @db.Char(16)
  orden           Int
  name            String       @db.VarChar(255)
  tkgroup         Int
  description     String?
  files           String?
  folders         String?
  proglanguage    proglanguage @relation(fields: [proglanguage_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  tasktype        tasktype     @relation(fields: [tasktype_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  workflow        workflow     @relation(fields: [workflow_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model taskcategory {
  id          String   @id @db.Char(16)
  workflow_id String   @db.Char(16)
  name        String   @db.VarChar(100)
  description String?  @db.VarChar(100)
  workflow    workflow @relation(fields: [workflow_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model tasktype {
  id          String  @id @db.Char(16)
  name        String  @db.VarChar(50)
  description String? @db.VarChar(100)
  task        task[]
}

/// @default(dbgenerated("CURRENT_DATE")) @db.Date
model template {
  id              String       @id @db.Char(16)
  name            String       @db.VarChar(100)
  proglanguage_id String       @db.Char(16)
  datacode        String       @default("undefined")
  updated         DateTime?    @updatedAt
  proglanguage    proglanguage @relation(fields: [proglanguage_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

/// @default(dbgenerated("CURRENT_DATE")) @db.Date
model workflow {
  id           String         @id @db.Char(16)
  name         String         @db.VarChar(100)
  description  String?
  context      String?
  application  String?        @db.VarChar(50)
  fpath        String?        @db.VarChar(500)
  updated      DateTime       @updatedAt
  task         task[]
  taskcategory taskcategory[]
}
